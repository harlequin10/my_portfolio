<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Tables</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.bootstrap5.min.css">
    <style>
        /* Ensure table fits within the container */
        .table-container {
            width: 100%;
            overflow-x: auto; /* Allows horizontal scroll if needed */
        }
        table.dataTable {
            width: 100% !important; /* Ensure the table takes full width of its container */
        }
        /* Optional: Ensure the container is responsive */
        .container {
            max-width: 100%;
            overflow: hidden;
        }
        /* Adjust font sizes */
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            font-size: 0.9rem; /* Pagination controls */
        }
        .dataTables_wrapper .dataTables_info {
            font-size: 0.9rem; /* Info text */
        }
        .dataTables_wrapper .dataTables_length select {
            font-size: 0.9rem; /* Entries per page dropdown */
        }
        table.dataTable thead th {
            font-size: 0.8rem; /* Table headers */
        }
        table.dataTable tbody td {
            font-size: 0.9rem; /* Table cells */
        }
        .dataTables_wrapper .dataTables_filter input {
            font-size: 0.9rem; /* Search input field */
        }
        .dataTables_wrapper .dataTables_select_all {
            font-size: 0.9rem; /* Select all checkbox */
        }
        .btn-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 1rem;
            margin-top: 10px;
        }
        h1{
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 20px;
            margin-left: 33%;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Tabs for two tables -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="table1-tab" data-bs-toggle="tab" data-bs-target="#table1" type="button" role="tab">Table 1</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="table2-tab" data-bs-toggle="tab" data-bs-target="#table2" type="button" role="tab">Table 2</button>
            </li>
            <h1>Data Tables</h1>
        </ul>
        <div class="btn-container">
            <button id="deleteButton" class="btn btn-danger">Delete Selected Rows</button>
        </div>
    
        <!-- Tab contents -->
        <div class="tab-content">
            <div class="tab-pane fade show active" id="table1" role="tabpanel">
                <table id="example1" class="table table-striped" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>Office</th>
                            <th>Extn.</th>
                            <th>Start date</th>
                            <th>Salary</th>
                            <th>Department</th>
                        </tr>
                        <tr>
                            <th><input type="text" placeholder="Search Name"></th>
                            <th><input type="text" placeholder="Search Position"></th>
                            <th><input type="text" placeholder="Search Office"></th>
                            <th><input type="text" placeholder="Search Extn."></th>
                            <th><input type="text" placeholder="Search Start Date"></th>
                            <th><input type="text" placeholder="Search Salary"></th>
                            <th><input type="text" placeholder="Search Department"></th>
                        </tr>
                    </thead>
                </table>
            </div>
    
            <div class="tab-pane fade" id="table2" role="tabpanel">
                <table id="example2" class="table table-striped" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>Office</th>
                            <th>Extn.</th>
                            <th>Start date</th>
                            <th>Salary</th>
                            <th>Department</th>
                        </tr>
                        <tr>
                            <th><input type="text" placeholder="Search Name"></th>
                            <th><input type="text" placeholder="Search Position"></th>
                            <th><input type="text" placeholder="Search Office"></th>
                            <th><input type="text" placeholder="Search Extn."></th>
                            <th><input type="text" placeholder="Search Start Date"></th>
                            <th><input type="text" placeholder="Search Salary"></th>
                            <th><input type="text" placeholder="Search Department"></th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Include JS libraries -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.6.2/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/colvis/1.2.0/js/dataTables.colVis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // Initialize DataTable with delete, column search, column visibility features
            function initTable(tableId) {
                var table = $(tableId).DataTable({
                    ajax: './ajax.txt',
                    dom: '<"row"<"col-md-12 d-flex justify-content-center"p>>' +  // Pagination in the top middle
                         'rt' + 
                         '<"row"<"col-md-6"l><"col-md-6 text-end"i>>',  // Entries per page left, info right
                    pagingType: "full_numbers",
                    select: false,  // Enable row selection
                    buttons: [
                        'colvis'  // Column visibility button
                    ],
                    initComplete: function() {
                        // Add column search
                        this.api().columns().every(function() {
                            var column = this;
                            $('input', this.header()).on('keyup change', function() {
                                if (column.search() !== this.value) {
                                    column.search(this.value).draw();
                                }
                            });
                        });
                    }
                });
    
                // Add multiple row selection functionality
                table.on('click', 'tr', function() {
                    $(this).toggleClass('selected');
                });
    
                // Add delete functionality for selected rows
                $('#deleteButton').click(function() {
                    table.rows('.selected').remove().draw();
                });
    
                // Add the ColVis button
                table.buttons().container().appendTo($(tableId + '_wrapper .col-md-6:eq(0)'));
            }
    
            // Initialize both tables
            initTable('#example1');
            initTable('#example2');
        });
    </script>
</body>
</html>
